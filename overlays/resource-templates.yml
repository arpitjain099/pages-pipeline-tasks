#@ load("@ytt:overlay", "overlay")

#@overlay/match by=overlay.all
---
resources:
#@overlay/match by="name", missing_ok=True
#@overlay/replace
- name: slack
  type: slack-notification
  source:
    url: ((slack-webhook-url))
#@overlay/match by="name", missing_ok=True
#@overlay/replace
- name: node
  type: registry-image
  source:
    aws_access_key_id: ((ecr-aws-key))
    aws_secret_access_key: ((ecr-aws-secret))
    repository: pages-node-v20
    aws_region: us-gov-west-1
    tag: latest
#@overlay/match by="name", missing_ok=True
#@overlay/replace
- name: general-task
  type: registry-image
  source:
    aws_access_key_id: ((ecr-aws-key))
    aws_secret_access_key: ((ecr-aws-secret))
    repository: general-task
    aws_region: us-gov-west-1
    tag: latest
